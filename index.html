<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">

    <link href="https://api.mapbox.com/mapbox-gl-js/v1.10.0/mapbox-gl.css" rel="stylesheet" />
    <link href="https://fonts.googleapis.com/css2?family=Open+Sans:wght@300;400&family=Roboto:wght@400;700;900&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="css/style.css">
    <title>Travelday - My dashboard</title>

    <script src="https://api.mapbox.com/mapbox-gl-js/v1.10.0/mapbox-gl.js"></script>
</head>
<body>
    <div class="l-grid">
        <nav class="nav">
            <ul class="nav__list nav__list--top">
                <li class="nav__item">
                    <a href="#" class="nav__link"><img src="img/alan.png" class="nav__img" alt="user-img"></a>
                </li>
                <li class="nav__item nav__www">
                    <a href="https://travelday.dk/" class="nav__link back__website"><img src="img/logo.png" alt="logo" class="nav__logo"><span class="go-www">Back to website</span></a>
                </li>
            </ul>
            <ul class="nav__list nav__list--bottom">
                <li class="nav__item nav__item--active">
                    <a href="#" class="nav__link">Dashboard</a>
                </li>
                <li class="nav__item">
                    <a href="#" class="nav__link">Feed</a>
                </li>
                <li class="nav__item">
                    <a href="#" class="nav__link">My Journal</a>
                </li>
                <li class="nav__item">
                    <a href="#" class="nav__link">My Booking</a>
                </li>
                <li class="nav__item">
                    <a href="#" class="nav__link">Contact & Support</a>
                </li>
                <li class="nav__item">
                    <a href="#" class="nav__link">Settings</a>
                </li>
                <li class="nav__item">
                    <a href="#" class="nav__link">Log out</a>
                </li>
            </ul>
            <p class="nav__rights">All rights reserved 2020</p>
        </nav>
        <main class="c-content">
            <header class="heading heading--main">
                <h1 class="heading__text">Dashboard</h1>
            </header>
            <div class="c-content__item">
                <div id="map" class="c-content__map"></div>
                <div class="c-content__upcoming-trips">
                    <h4 class="c-content__upcoming-trips__heading">My upcoming trips</h4>
                    <div class="c-content__upcoming-trips__places">
                        <img src="img/upcoming1.png" alt="Nessebar-img" class="c-content__upcoming-trips__img">
                        <div class="c-content__upcoming-trips__info">
                            <h5 class="c-content__upcoming-trips__place">Nessebar</h5>
                            <p class="c-content__upcoming-trips__date">02/06 - 10/06</hp>
                        </div>
                    </div>
                    <div class="c-content__upcoming-trips__places">
                        <img src="img/upcoming2.png" alt="Nessebar-img" class="c-content__upcoming-trips__img">
                        <div class="c-content__upcoming-trips__info">
                            <h5 class="c-content__upcoming-trips__place">Oslo</h5>
                            <p class="c-content__upcoming-trips__date">07/08 - 14/07</hp>
                        </div>
                    </div>
                    <div class="c-content__upcoming-trips__places">
                        <img src="img/upcoming3.png" alt="Nessebar-img" class="c-content__upcoming-trips__img">
                        <div class="c-content__upcoming-trips__info">
                            <h5 class="c-content__upcoming-trips__place">Malaga</h5>
                            <p class="c-content__upcoming-trips__date">10/12 - 20/12</hp>
                        </div>
                    </div>

                </div>
            </div>
            <header class=" heading heading--sub">
                <h2 class="heading__text">Top Travelday Destinations</h2>
            </header>
            <div class="c-content__item">
                <div class="c-content__destination">
                    <img src="img/top1.png" class="c-content__img" alt="Saranda">
                    <div class="c-content__destination__info">
                        <h4 class="c-content__destination-city">Saranda</h4>
                        <p class="c-content__destination-country">Albanien</p>
                    </div>
                    <a href="#" class="c-content__destination__link"></a>
                </div>
                <div class="c-content__destination">
                    <img src="img/top2.png" class="c-content__img" alt="Saranda">
                    <div class="c-content__destination__info">
                        <h4 class="c-content__destination-city">Hurghada</h4>
                        <p class="c-content__destination-country">Egypt</p>
                    </div>
                    <a href="#" class="c-content__destination__link"></a>
                </div>
                <div class="c-content__destination">
                    <img src="img/top3.png" class="c-content__img" alt="Saranda">
                    <div class="c-content__destination__info">
                        <h4 class="c-content__destination-city">Nessebar</h4>
                        <p class="c-content__destination-country">Bulgaria</p>
                    </div>
                    <a href="#" class="c-content__destination__link"></a>
                </div>
                <div class="c-content__days-left">
                    <p class="c-content__days-left__num">29</p>
                    <p class="c-content__days-left__info">days left to the next trip</p>
                </div>
            </div>
            <header class="heading heading--sub">
                <h2>Achievements</h2>
                <span class="section-info"></span>
            </header>
            <div class="c-content__item c-content__item--vertical">
                <p class="c-content__score">100pkt/200pkt</p>
                <span class="c-content__bar"><span class="c-content__progress"></span></span>
            </div>
        </main>
    </div>
    <script
        src="https://api.tiles.mapbox.com/mapbox.js/plugins/turf/v2.0.0/turf.min.js"
        charset="utf-8"
    ></script>
 
    <script>
        /********* MAPBOX**********/

        mapboxgl.accessToken = 'pk.eyJ1IjoiYWxla3NhbmRyYWJhYWEiLCJhIjoiY2s3ZDE3NHJuMDR3NDNobndpbHA2eGRveiJ9.Y1ppSD3433ywhRd2eW88ew';
        var map = new mapboxgl.Map({
        container: 'map',
        style: 'mapbox://styles/aleksandrabaaa/ckacgu39426bk1iprixnbphsq',
        center: [20.532, 48.929],
        zoom: 2
        });
        
        // Aarhus
        var origin = [10.231, 56.150];
        
        // Nessebar
        var destination = [27.736, 42.658];
        
        // A simple line from origin to destination.
        var route = {
            'type': 'FeatureCollection',
            'features': [
            {
            'type': 'Feature',
            'geometry': {
            'type': 'LineString',
            'coordinates': [origin, destination]
                     }
        }
        ]
        };
        
        // A single point that animates along the route.
        // Coordinates are initially set to origin.
        var point = {
        'type': 'FeatureCollection',
        'features': [
        {
        'type': 'Feature',
        'properties': {},
        'geometry': {
        'type': 'Point',
        'coordinates': origin
        }
        }
        ]
        };
        
        // Calculate the distance in kilometers between route start/end point.
        var lineDistance = turf.lineDistance(route.features[0], 'kilometers');
        
        var arc = [];
        
        // Number of steps to use in the arc and animation, more steps means
        // a smoother arc and animation, but too many steps will result in a
        // low frame rate
        var steps = 500;
        
        // Draw an arc between the `origin` & `destination` of the two points
        for (var i = 0; i < lineDistance; i += lineDistance / steps) {
        var segment = turf.along(route.features[0], i, 'kilometers');
        arc.push(segment.geometry.coordinates);
        }
        
        // Update the route with calculated arc coordinates
        route.features[0].geometry.coordinates = arc;
        
        // Used to increment the value of the point measurement against the route.
        var counter = 0;
        
        map.on('load', function() {
        // Add a source and layer displaying a point which will be animated in a circle.
        map.addSource('route', {
        'type': 'geojson',
        'data': route
        });
        
        map.addSource('point', {
        'type': 'geojson',
        'data': point
        });
        
        map.addLayer({
        'id': 'route',
        'source': 'route',
        'type': 'line',
        'paint': {
        'line-width': 4,
        'line-color': '#007cbf'
        }
        });
        
        map.addLayer({
        'id': 'point',
        'source': 'point',
        'type': 'symbol',
        'layout': {
        'icon-image': 'airport-15',
        'icon-rotate': ['get', 'bearing'],
        'icon-rotation-alignment': 'map',
        'icon-allow-overlap': true,
        'icon-ignore-placement': true
        }
        });
    })          
    // Update point geometry to a new position based on counter denoting
// the index to access the arc.
point.features[0].geometry.coordinates =
route.features[0].geometry.coordinates[counter];
 
// Calculate the bearing to ensure the icon is rotated to match the route arc
// The bearing is calculate between the current point and the next point, except
// at the end of the arc use the previous point and the current point
point.features[0].properties.bearing = turf.bearing(
turf.point(
route.features[0].geometry.coordinates[
counter >= steps ? counter - 1 : counter
]
),
turf.point(
route.features[0].geometry.coordinates[
counter >= steps ? counter : counter + 1
]
)
);
    </script>
</body>
</html>